(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3279d3f0"],{"206b":function(e,t,n){},"36d2":function(e,t,n){"use strict";n.r(t);var r=n("f2bf"),u=Object(r["l"])("新增菜单+");function o(e,t,n,o,c,a){var l=Object(r["K"])("a-button"),i=Object(r["K"])("a-table"),d=Object(r["K"])("a-card"),s=Object(r["K"])("a-col"),f=Object(r["K"])("add-edit-menu"),m=Object(r["K"])("a-row");return Object(r["D"])(),Object(r["j"])(m,null,{default:Object(r["T"])((function(){return[Object(r["m"])(s,{span:24},{default:Object(r["T"])((function(){return[Object(r["m"])(d,null,{default:Object(r["T"])((function(){return[Object(r["m"])(l,{type:"primary",style:{margin:"10px 0px"},onClick:o.addMenu},{default:Object(r["T"])((function(){return[u]})),_:1},8,["onClick"]),Object(r["m"])(i,{dataSource:o.data,bordered:"",rowKey:"_id",columns:o.columns},{status:Object(r["T"])((function(e){var t=e.text;return[Object(r["m"])("div",null,Object(r["M"])(o.statusMapFilter(t)),1)]})),action:Object(r["T"])((function(e){e.text;var t=e.record;return[Object(r["m"])("ul",null,[Object(r["m"])("li",null,[Object(r["m"])("a",{onClick:function(e){return o.editMenu(t)}}," 编辑 ",8,["onClick"])]),Object(r["m"])("li",null,[Object(r["m"])("a",{onClick:function(e){return o.removeMenu(t._id)}}," 删除 ",8,["onClick"])])])]})),_:1},8,["dataSource","columns"])]})),_:1})]})),_:1}),Object(r["m"])(f,{ref:"menu",onRefresh:o.refresh},null,8,["onRefresh"])]})),_:1})}var c=n("5530"),a=(n("3b18"),n("f64c")),l=(n("cd17"),n("ed3b")),i=n("cf7c"),d=(n("b0c0"),Object(r["V"])("data-v-9aa4da2e")),s=d((function(e,t,n,u,o,c){var a=Object(r["K"])("a-input"),l=Object(r["K"])("a-form-item"),i=Object(r["K"])("a-select-option"),s=Object(r["K"])("a-select"),f=Object(r["K"])("a-input-number"),m=Object(r["K"])("a-form"),b=Object(r["K"])("a-modal");return Object(r["D"])(),Object(r["j"])(b,{visible:e.visible,"onUpdate:visible":t[8]||(t[8]=function(t){return e.visible=t}),width:600,"ok-text":"确认","cancel-text":"取消",title:1==e.type?"新增角色":"编辑角色",onOk:u.submitHandle,onCancel:t[9]||(t[9]=function(e){return u.formRef.resetFields()})},{default:d((function(){return[Object(r["m"])(m,{ref:"formRef",model:u.form,rules:u.rules,"label-col":{span:7},"wrapper-col":{span:14}},{default:d((function(){return[Object(r["m"])(l,{ref:"name",label:"菜单名称",name:"name"},{default:d((function(){return[Object(r["m"])(a,{placeholder:"菜单名称",style:{width:"220px"},value:u.form.name,"onUpdate:value":t[1]||(t[1]=function(e){return u.form.name=e})},null,8,["value"])]})),_:1},512),Object(r["m"])(l,{ref:"parentId",label:"父级菜单",name:"parentId"},{default:d((function(){return[Object(r["m"])(s,{style:{width:"220px"},value:u.form.parentId,"onUpdate:value":t[2]||(t[2]=function(e){return u.form.parentId=e}),placeholder:"父级菜单","show-search":"",allowClear:!0,"filter-option":u.filterOptionPartent},{default:d((function(){return[(Object(r["D"])(!0),Object(r["j"])(r["b"],null,Object(r["J"])(e.menuList,(function(e){return Object(r["D"])(),Object(r["j"])(i,{value:e._id,key:e._id},{default:d((function(){return[Object(r["l"])(Object(r["M"])(e.name),1)]})),_:2},1032,["value"])})),128))]})),_:1},8,["value","filter-option"])]})),_:1},512),Object(r["m"])(l,{label:"路由地址",name:"url"},{default:d((function(){return[Object(r["m"])(a,{placeholder:"路由地址",style:{width:"220px"},value:u.form.url,"onUpdate:value":t[3]||(t[3]=function(e){return u.form.url=e}),valueModifiers:{trim:!0}},null,8,["value"])]})),_:1}),Object(r["m"])(l,{label:"路由重定向地址",name:"redirectUrl"},{default:d((function(){return[Object(r["m"])(a,{placeholder:"路由重定向地址",style:{width:"220px"},value:u.form.redirectUrl,"onUpdate:value":t[4]||(t[4]=function(e){return u.form.redirectUrl=e}),valueModifiers:{trim:!0}},null,8,["value"])]})),_:1}),Object(r["m"])(l,{label:"排序号",name:"sort"},{default:d((function(){return[Object(r["m"])(f,{placeholder:"排序号",style:{width:"220px"},min:0,max:1e3,value:u.form.sort,"onUpdate:value":t[5]||(t[5]=function(e){return u.form.sort=e}),valueModifiers:{trim:!0}},null,8,["value"])]})),_:1}),Object(r["m"])(l,{label:"唯一标识",name:"key"},{default:d((function(){return[Object(r["m"])(a,{placeholder:"唯一标识",style:{width:"220px"},value:u.form.key,"onUpdate:value":t[6]||(t[6]=function(e){return u.form.key=e}),valueModifiers:{trim:!0}},null,8,["value"])]})),_:1}),Object(r["m"])(l,{label:"使用组件",name:"component"},{default:d((function(){return[Object(r["m"])(s,{placeholder:"使用组件",style:{width:"220px"},value:u.form.component,"onUpdate:value":t[7]||(t[7]=function(e){return u.form.component=e}),"show-search":"","filter-option":u.filterOption},{default:d((function(){return[(Object(r["D"])(!0),Object(r["j"])(r["b"],null,Object(r["J"])(u.componentList,(function(e){return Object(r["D"])(),Object(r["j"])(i,{value:e.component,key:e.component},{default:d((function(){return[Object(r["l"])(Object(r["M"])(e.name),1)]})),_:2},1032,["value"])})),128))]})),_:1},8,["value","filter-option"])]})),_:1})]})),_:1},8,["model","rules"])]})),_:1},8,["visible","title","onOk"])})),f=n("1da1"),m=(n("4de4"),n("96cf"),[{name:"一级菜单",component:"RouteView",describe:"一级菜单"},{name:"用户角色",component:"userRole",describe:"二级菜单"},{name:"菜单管理",component:"menuList",describe:"二级菜单"},{name:"账号管理",component:"userAccount",describe:"二级菜单"}]),b=m,O={name:[{required:!0,message:"请输入",trigger:["change","blur"],type:"string"}],url:[{required:!0,message:"请输入",trigger:["change","blur"],type:"string"}],key:[{required:!0,message:"请输入",trigger:["change","blur"],type:"string"}],component:[{required:!0,message:"请选择",trigger:["change","blur"],type:"string"}]},p={setup:function(e,t){var n=Object(r["H"])({name:null,url:null,redirectUrl:null,key:null,component:null,sort:null,parentId:null,id:null}),u=Object(r["I"])(),o=Object(r["H"])({type:1,visible:!1,menuList:[]}),l=function(){u.value.validate().then((function(){1!=o.type?Object(i["f"])(n).then((function(e){p(e)})):Object(i["c"])(n).then((function(e){p(e)}))}))},d=function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:h(),o.type=1,m();case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),s=function(e){o.visible=!0,o.type=2;var t=e.name,r=e.url,u=e._id,c=e.component,a=e.sort,l=e.parentId,i=e.key,d=e.redirectUrl;Object.assign(n,{name:t,url:r,id:u,component:c,sort:a,parentId:l,key:i,redirectUrl:d}),m()},m=function(){Object(i["k"])().then((function(e){1==e.code&&(o.menuList=e.data,o.menuList=o.menuList.filter((function(e){return e.id!=n.id})))}))},p=function(e){1==e.code&&(u.value.resetFields(),a["a"].success("操作成功"),t.emit("refresh"),o.visible=!1)},j=function(e,t){return t.value.toLowerCase().indexOf(e.toLowerCase())>=0},v=function(e,t){return t.children[0].children.toLowerCase().indexOf(e.toLowerCase())>=0},h=function(){o.visible=!0,Object.assign(n,{name:null,url:null,redirectUrl:null,key:null,component:null,sort:null,parentId:null,id:null})};return Object(c["a"])(Object(c["a"])({componentList:b,form:n,rules:O},Object(r["O"])(o)),{},{formRef:u,submitHandle:l,showAddModal:d,showEditModal:s,filterOption:j,filterOptionPartent:v})}};n("b837");p.render=s,p.__scopeId="data-v-9aa4da2e";var j=p,v={0:"已停用",1:"使用中"},h=[{title:"菜单名称",dataIndex:"name",align:"center"},{title:"状态",dataIndex:"status",align:"center",slots:{customRender:"status"}},{title:"使用组件",dataIndex:"component",align:"center"},{title:"路由地址",dataIndex:"url",align:"center"},{title:"路由重定向地址",dataIndex:"redirectUrl",align:"center"},{title:"唯一标识",dataIndex:"key",align:"center"},{title:"排序",dataIndex:"sort",align:"center"},{title:"操作",dataIndex:"action",align:"center",slots:{customRender:"action"}}],g={components:{AddEditMenu:j},setup:function(){var e=Object(r["I"])([]),t=Object(r["I"])(null),n=Object(r["H"])({queryInfo:{pageSize:10,pageNumber:1}}),u=function(){Object(i["l"])(n.queryInfo).then((function(t){e.value=t.data}))},o=function(){t.value.showAddModal()},d=function(e){t.value.showEditModal(e)},s=function(e){l["a"].confirm({title:"确认要执行操作吗?",okText:"确认",cancelText:"取消",onOk:function(){Object(i["n"])(e).then((function(e){1==e.code&&(a["a"].success("操作成功"),u())}))}})},f=function(e){return v[e]},m=function(){u()};return Object(r["A"])((function(){u()})),Object(c["a"])(Object(c["a"])({data:e,menu:t},Object(r["O"])(n)),{},{columns:h,statusMap:v,getList:u,addMenu:o,editMenu:d,statusMapFilter:f,refresh:m,removeMenu:s})}};g.render=o;t["default"]=g},b837:function(e,t,n){"use strict";n("206b")},cf7c:function(e,t,n){"use strict";n.d(t,"m",(function(){return o})),n.d(t,"d",(function(){return c})),n.d(t,"g",(function(){return a})),n.d(t,"o",(function(){return l})),n.d(t,"i",(function(){return i})),n.d(t,"j",(function(){return d})),n.d(t,"l",(function(){return s})),n.d(t,"k",(function(){return f})),n.d(t,"c",(function(){return m})),n.d(t,"f",(function(){return b})),n.d(t,"n",(function(){return O})),n.d(t,"h",(function(){return p})),n.d(t,"b",(function(){return j})),n.d(t,"e",(function(){return v})),n.d(t,"a",(function(){return h})),n.d(t,"p",(function(){return g}));var r=n("b775"),u={getRoleList:"/role/getRoleList",getAddMenuList:"/role/addGetMenuTree",getEditMenuList:"/role/editGetMenuTree",addRole:"/role/addRole",eidtRole:"/role/editRole",removeRole:"/role/removeRole",getMenuTree:"/menu/getMenuTree",addMenuTree:"/menu/addMenu",getMenuList:"/menu/getMenuList",editMenuTree:"/menu/editMenu",removeMenuTree:"/menu/removeMenu",getAccountList:"/users/getAccountList",addAccount:"/users/addAccount",delAccount:"/users/delAccount",accountStatusSet:"/users/accountStatusSet",resultPassWord:"/users/resultPassWord",roleAssignment:"/users/roleAssignment"};function o(e){return Object(r["a"])({url:u.getRoleList,method:"post",data:e})}function c(e){return Object(r["a"])({url:u.addRole,method:"post",data:e})}function a(e){return Object(r["a"])({url:u.eidtRole,method:"post",data:e})}function l(e){return Object(r["a"])({url:u.removeRole,method:"post",data:{id:e}})}function i(){return Object(r["a"])({url:u.getAddMenuList,method:"post"})}function d(e){return Object(r["a"])({url:u.getEditMenuList,method:"post",data:{id:e}})}function s(e){return Object(r["a"])({url:u.getMenuTree,method:"post",data:e})}function f(){return Object(r["a"])({url:u.getMenuList,method:"post"})}function m(e){return Object(r["a"])({url:u.addMenuTree,method:"post",data:e})}function b(e){return Object(r["a"])({url:u.editMenuTree,method:"post",data:e})}function O(e){return Object(r["a"])({url:u.removeMenuTree,method:"post",data:{id:e}})}function p(){return Object(r["a"])({url:u.getAccountList,method:"post"})}function j(e){return Object(r["a"])({url:u.addAccount,method:"post",data:e})}function v(e){return Object(r["a"])({url:u.delAccount,method:"post",data:{id:e}})}function h(e){return Object(r["a"])({url:u.accountStatusSet,method:"post",data:e})}function g(e){return Object(r["a"])({url:u.roleAssignment,method:"post",data:e})}}}]);